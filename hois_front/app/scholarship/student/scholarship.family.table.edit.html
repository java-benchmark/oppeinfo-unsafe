<fieldset>
  <legend md-colors="{color: 'primary-800'}" class="md-title-small">
    {{'stipend.student.familyIncome' | translate}}</legend>

  <div layout="row" flex>
    <md-input-container flex="45">
      <label>{{'stipend.student.familyMembers' | translate}}</label>
      <input ng-model="application.familyMembers" type="number" autofocus aria-label="familyMembers" min="0"
        ng-disabled="!application.canApply">
    </md-input-container>
    <md-input-container flex="50" flex-offset="5">
      <label>{{'stipend.student.familyMembersAdult' | translate}}</label>
      <input ng-model="application.familyMembersAdult" type="number" autofocus aria-label="familyMembersAdult" min="0" 
        max="{{application.familyMembers ? application.familyMembers : 0}}" ng-disabled="!application.canApply">
    </md-input-container>
  </div>

  <md-button class="md-raised" ng-click="addFamilyMember()" ng-if="editable && application.canApply">{{'stipend.student.addFamilyMember' | translate}}</md-button>
  <md-table-container>
    <table md-table class="secondary-table">
      <thead md-head>
        <tr md-row>
          <th md-column>{{'stipend.family.name' | translate}}</th>
          <th md-column>{{'stipend.family.netSalary' | translate}}</th>
          <th md-column>{{'stipend.family.pension' | translate}}</th>
          <th md-column>{{'stipend.family.stateBenefit' | translate}}</th>
          <th md-column>{{'stipend.family.otherIncome' | translate}}</th>
          <th md-column>{{'stipend.family.unemployedBenefit' | translate}}</th>
          <th md-column>{{'main.sum' | translate}}</th>
          <th md-column ng-if="editable && application.canApply"></th>
        </tr>
      </thead>
      <tbody md-body>
        <tr md-row ng-repeat="member in application.family" ng-class-odd="'odd'" ng-class-even="'even'">
          <td md-cell>{{member.name}}</td>
          <td md-cell>{{member.netSalary ? member.netSalary : '-'}}</td>
          <td md-cell>{{member.pension ? member.pension : '-'}}</td>
          <td md-cell>{{member.stateBenefit ? member.stateBenefit : '-'}}</td>
          <td md-cell>{{member.otherIncome ? member.otherIncome : '-'}}</td>
          <td md-cell>{{member.unemployedBenefit ? member.unemployedBenefit : '-'}}</td>
          <td md-cell>{{member.sum ? member.sum : '-'}}</td>
          <td md-cell ng-if="editable && application.canApply">
            <md-button class="remove nomargin" ng-click="removeFromArray(application.family, member)">&times;</md-button>
          </td>
        </tr>
      </tbody>
    </table>
  </md-table-container>
</fieldset>