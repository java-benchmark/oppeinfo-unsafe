<legend ng-if="editable || application.files.length > 0" md-colors="{color: 'primary-800'}" class="md-title-small">{{'main.relatedFiles' | translate}}</legend>

<md-button ng-if="editable && application.canApply" class="md-raised" ng-click="openAddFileDialog()">{{'main.button.uploadFile' | translate}}</md-button>
<br/>
<md-table-container>
<table md-table class="secondary-table" ng-if="application.files.length > 0">
  <thead md-head>
    <tr md-row>
      <th md-column>
        <span>{{'file.nameAndFile' | translate}}</span>
      </th>
      <th md-column ng-if="editable && application.canApply"></th>
    </tr>
  </thead>
  <tbody md-body>
    <tr md-row ng-repeat="file in application.files | orderBy: 'id'" ng-class-odd="'odd'" ng-class-even="'even'">
      <td md-cell>
        <div layout="row" flex>
          <div flex="80">
            {{file.oisFile.fname ? file.oisFile.fname : file.fname}}
          </div>
          <div ng-if="file.oisFile" flex>
            <a ng-href="{{getUrl(file.oisFile, 'scholarshipapplication')}}" download target="_blank" rel="noopener noreferrer">
              <md-icon md-font-set="material-icons">file_download</md-icon>
            </a>
          </div>
        </div>
      </td>
      <td md-cell ng-if="editable && application.canApply">
        <md-button class="remove nomargin" ng-click="removeFile(application.files, file)">&times;</md-button>
      </td>
    </tr>
  </tbody>
</table>
</md-table-container>
