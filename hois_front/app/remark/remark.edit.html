<div class="ois-form-layout-padding" ng-cloak>
  <div flex>
    <form layout="column" name="remarkForm">
      <div ng-if="!record.student" flex="45" flex-sm="100" flex-xs="100">
        <hois-autocomplete ng-model="record.student" method="students" name="student" label="student.label"
          additional-query-params="{active: true, higher: false, studentGroupTeacher: teacherId}" required></hois-autocomplete>
      </div>

      <div ng-if="record.student" layout="row" class="form-readonly">
        <md-input-container class="label-only" flex>
          <label>{{'student.label' | translate}}</label>
          <hois-value value="record.student.nameEt" href-value="'#/students/' + record.student.id + '/main'"></hois-value>
        </md-input-container>
      </div>

      <div layout="row" layout-sm="column" layout-xs="column">
        <md-input-container>
          <label>{{'remark.date' | translate}}</label>
          <md-datepicker ng-model="record.remarkDate" required></md-datepicker>
        </md-input-container>

        <md-input-container flex-offset="5">
          <label>{{'remark.time' | translate}}</label>
          <hois-time ng-model="record.remarkTime" placeholder="{{'main.timePlaceholder' | translate}}"></hois-time>
        </md-input-container>
      </div>

      <div layout="row">
        <md-input-container flex>
          <label>{{'remark.reason' | translate}}</label>
          <hois-classifier-select ng-model="record.reason" main-classifier-code="MARKUS" model-value-attr="code" required></hois-classifier-select>
        </md-input-container>
      </div>

      <div layout="row">
        <md-input-container flex>
          <label>{{'remark.label' | translate}}</label>
          <textarea ng-model="record.remark" md-maxlength="4000" max-rows="5" required></textarea>
        </md-input-container>
      </div>

      <div layout="row" layout-xs="column">
        <md-button class="md-raised md-primary" ng-click="update()">{{'main.button.save' | translate}}</md-button>
        <md-button class="md-raised" ng-if="record.id" ng-click="delete()">{{'main.button.delete' | translate}}</md-button>
        <md-button class="md-raised" ng-click="back('#/remarks/', remarkForm)">{{'main.button.back' | translate}}</md-button>
      </div>
    </form>
  </div>
</div>
