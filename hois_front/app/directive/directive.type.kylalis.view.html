<md-table-container>
    <table md-table md-row-select="formState.cancelSelect" multiple ng-model="formState.selectedStudents" class="secondary-table">
      <thead md-head>
        <tr md-row>
          <th md-column>{{'directive.student.order' | translate}}</th>
          <th md-column>{{'directive.student.foreign' | translate}}</th>
          <th md-column>{{'directive.student.idcode' | translate}}</th>
          <th md-column>{{'directive.student.fullname' | translate}}</th>
          <th md-column>{{'directive.student.birthdate' | translate}}</th>
          <th md-column>{{'directive.student.sex' | translate}}</th>
          <th md-column>{{'directive.student.citizenship' | translate}}</th>
          <th md-column>{{'directive.student.apelSchool' | translate}}</th>
          <th md-column>{{'directive.student.apelSchoolCountry' | translate}}</th>
          <th md-column>{{'directive.student.apelSchoolStudyLevel' | translate}}</th>
          <th md-column>{{'directive.student.abroadPurpose' | translate}}</th>
          <th md-column>{{'directive.student.guest.startDate' | translate}}</th>
          <th md-column>{{'directive.student.guest.endDate' | translate}}</th>
          <th md-column>{{'directive.student.guest.curriculumVersion' | translate}}</th>
          <th md-column>{{'directive.student.studentGroup' | translate}}</th>
          <th md-column>{{'directive.student.exchangeProgramme' | translate}}</th>
          <th md-column style="min-width:400px;">{{'directive.student.notes' | translate}}</th>
        </tr>
      </thead>
      <tbody md-body>
        <tr md-row ng-disabled="!row.selectable" md-select="row" md-select-id="student" ng-repeat="row in record.students | orderBy:'+lastname'" ng-class-odd="'odd'" ng-class-even="'even'">
          <td md-cell>{{$index + 1}}.</td>
          <td md-cell>
            <md-checkbox ng-model="row._foreign" aria-label="{{'directive.student.foreign' | translate}}" disabled></md-checkbox>
          </td>
          <td md-cell>{{::(row.idcode || row.foreignIdcode)}}</td>
          <td md-cell ng-if="row.student">
            <a class="md-primary" ng-href="#/students/{{::row.student}}/main">{{::row.fullname}}</a>
          </td>
          <td ng-if="!row.student" md-cell>{{::row.fullname}}</td>
          <td md-cell>
            <hois-value value="row.birthdate | hoisDate"></hois-value>
          </td>
          <td md-cell>
            <hois-classifier-value ng-model="row.sex" main-classifier-code="SUGU"></hois-classifier-value>
          </td>
          <td md-cell>
            <hois-classifier-value ng-model="row.citizenship" main-classifier-code="RIIK"></hois-classifier-value>
          </td>
          <td md-cell>{{currentLanguageNameField(row.apelSchool)}}</td>
          <td md-cell>
            <hois-classifier-value ng-model="row.country" main-classifier-code="RIIK"></hois-classifier-value>
          </td>
          <td md-cell>
            <hois-classifier-value ng-model="row.previousStudyLevel" main-classifier-code="EHIS_KODU_OPPEASTE"></hois-classifier-value>
          </td>
          <td md-cell>
            <hois-classifier-value ng-model="row.abroadPurpose" main-classifier-code="VALISOPE_EESMARK"></hois-classifier-value>
          </td>
          <td md-cell>  
            <hois-value value="row.startDate | hoisDate"></hois-value>
          </td>
          <td md-cell>
            <hois-value value="row.endDate | hoisDate"></hois-value>
          </td>
          <td md-cell>{{currentLanguageNameField(row.curriculumVersionObject)}}</td>
          <td md-cell>{{currentLanguageNameField(row.studentGroupObject)}}</td>
          <td md-cell>
            <hois-classifier-value ng-model="row.abroadProgramme" main-classifier-code="VALISKOOL_PROGRAMM"></hois-classifier-value>
          </td>
          <td md-cell>
            <md-input-container style="width:100%;">
                <textarea ng-model="row.addInfo" md-maxlength="4000" max-rows="5" 
                aria-label="{{'directive.student.reason' | translate}}" disabled></textarea>
              </md-input-container>
          </td>
        </tr>
      </tbody>
    </table>
</md-table-container>